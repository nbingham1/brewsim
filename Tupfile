NAME          = brewsim
SRCDIR        = src 
CXXFLAGS	    = -O2 -g -Wall -fmessage-length=0 -std=c++20
INCLUDE_PATHS = -I. -I../pgen/
LIBRARY_PATHS = -L../pgen/build
LIBRARIES     = -Wl,-Bstatic -lpgen -Wl,-Bdynamic

# Executable
: foreach $(SRCDIR)/*.cpp | $(SRCDIR)/*.h |> g++ $(INCLUDE_PATHS) $(CXXFLAGS) -fPIC -c -o %o %f |> build/dynamic/%B.o {dynamic_objs}
: {dynamic_objs} |> g++ $(LIBRARY_PATHS) -Lbuild -o %o %f $(LIBRARIES) |> build/brewsim

.gitignore
